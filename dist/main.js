(()=>{const e=document.querySelector("#list"),t=document.querySelector("#create");let n=[];function c(e){const t=document.createElement("div");t.classList.add("item");const c=document.createElement("input");c.type="checkbox",c.checked=e.complete,e.complete&&t.classList.add("complete");const i=document.createElement("input");i.type="text",i.value=e.text,i.setAttribute("disabled","");const d=document.createElement("div");d.classList.add("actions");const s=document.createElement("button");s.classList.add("material-icons"),s.innerText="edit";const l=document.createElement("button");return l.classList.add("material-icons","remove-btn"),l.innerText="remove_circle",d.append(s),d.append(l),t.append(c),t.append(i),t.append(d),c.addEventListener("change",(()=>{e.complete=c.checked,e.comptle?t.classList.add("complete"):t.classList.remove("complete"),o()})),i.addEventListener("input",(()=>{e.text=i.value})),i.addEventListener("blur",(()=>{i.setAttribute("disabled",""),o()})),s.addEventListener("click",(()=>{i.removeAttribute("disabled"),i.focus()})),l.addEventListener("click",(()=>{n=n.filter((t=>t.id!=e.id)),t.remove(),o()})),{item_el:t,input_el:i,edit_btn_el:s,remove_btn_el:l}}function o(){const e=JSON.stringify(n);localStorage.setItem("my_todos",e)}t.addEventListener("click",(function(){const t={id:(new Date).getTime(),text:"",complete:!1};n.unshift(t);const{item_el:i,input_el:o}=c(t);e.prepend(i),o.removeAttribute("disabled"),o.focus()})),function(){for(function(){const e=localStorage.getItem("my_todos");e&&(n=JSON.parse(e))}(),i=0;i<n.length;i++){const t=n[i],{item_el:o}=c(t);e.append(o)}}()})();